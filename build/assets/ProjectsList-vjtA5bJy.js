import{a as h,r as x,n as w,c as d,b as e,d as k,i as C,e as g,v as V,y as N,z as F,k as _,l as T,F as B,p as S,q as z,o as l,s as D,j as E,t as o,x as L,A as M}from"./app-Cs6lHxPq.js";const P={class:"space-y-6"},j={class:"flex items-center justify-between"},G={class:"flex items-center gap-4"},I={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},U={class:"card-body"},q={class:"flex items-start justify-between mb-4"},A={class:"text-xs text-gray-500"},$={class:"font-semibold text-gray-900"},H={class:"text-sm text-gray-500"},J={class:"mb-4"},K={class:"flex items-center justify-between text-sm mb-1"},O={class:"font-medium"},Q={class:"w-full bg-gray-200 rounded-full h-2"},R={class:"flex items-center justify-between text-sm text-gray-500"},W={key:0,class:"text-center py-12 text-gray-500"},Z={__name:"ProjectsList",setup(X){const r=h([]),n=x({search:"",status:""});let c;const y=()=>{clearTimeout(c),c=setTimeout(i,300)},i=async()=>{const{data:a}=await z.get("/projects",{params:n});r.value=a.data},v=a=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",maximumFractionDigits:0}).format(a),f=a=>({pending:"قيد الانتظار",in_progress:"جاري التنفيذ",on_hold:"متوقف",completed:"مكتمل",cancelled:"ملغي"})[a]||a,b=a=>({pending:"badge-gray",in_progress:"badge-info",on_hold:"badge-warning",completed:"badge-success",cancelled:"badge-danger"})[a]||"badge-gray";return w(i),(a,s)=>{const u=T("router-link");return l(),d("div",P,[e("div",j,[e("div",G,[g(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>n.search=t),type:"text",placeholder:"بحث...",class:"form-input w-64",onInput:y},null,544),[[V,n.search]]),g(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>n.status=t),class:"form-input w-40",onChange:i},[...s[2]||(s[2]=[F('<option value="">كل الحالات</option><option value="pending">قيد الانتظار</option><option value="in_progress">جاري التنفيذ</option><option value="on_hold">متوقف</option><option value="completed">مكتمل</option>',5)])],544),[[N,n.status]])]),C(u,{to:"/projects/create",class:"btn btn-primary"},{default:_(()=>[...s[3]||(s[3]=[D("إنشاء مشروع",-1)])]),_:1})]),e("div",I,[(l(!0),d(B,null,S(r.value,t=>(l(),E(u,{key:t.id,to:`/projects/${t.id}`,class:"card hover:shadow-lg transition-shadow"},{default:_(()=>{var m,p;return[e("div",U,[e("div",q,[e("div",null,[e("p",A,o(t.project_number),1),e("h3",$,o(t.name),1),e("p",H,o((m=t.lead)==null?void 0:m.name),1)]),e("span",{class:L([b(t.status),"badge"])},o(f(t.status)),3)]),e("div",J,[e("div",K,[s[4]||(s[4]=e("span",{class:"text-gray-500"},"نسبة الإنجاز",-1)),e("span",O,o(t.progress_percentage)+"%",1)]),e("div",Q,[e("div",{class:"bg-primary-600 h-2 rounded-full",style:M({width:t.progress_percentage+"%"})},null,4)])]),e("div",R,[e("span",null,o(v(t.contract_value)),1),e("span",null,o((p=t.manager)==null?void 0:p.name),1)])])]}),_:2},1032,["to"]))),128))]),r.value.length===0?(l(),d("div",W,"لا توجد مشاريع")):k("",!0)])}}};export{Z as default};
