import{a as b,r as y,n as h,c as l,b as t,e as x,i as p,y as C,z as w,k as m,l as k,F as N,p as V,q as B,o as r,s as _,t as n,x as E}from"./app-PrQ92K9m.js";const F={class:"space-y-6"},L={class:"flex items-center justify-between"},S={class:"card"},j={class:"table-container"},z={class:"table"},D={class:"font-medium"},q={__name:"ContractsList",setup(G){const i=b([]),o=y({status:""}),u=async()=>{const{data:s}=await B.get("/contracts",{params:o});i.value=s.data},g=s=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(s),v=s=>({draft:"مسودة",pending_signature:"بانتظار التوقيع",active:"نشط",completed:"مكتمل",terminated:"منتهي"})[s]||s,f=s=>({draft:"badge-gray",pending_signature:"badge-warning",active:"badge-success",completed:"badge-info"})[s]||"badge-gray";return h(u),(s,e)=>{const d=k("router-link");return r(),l("div",F,[t("div",L,[x(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.status=a),class:"form-input w-40",onChange:u},[...e[1]||(e[1]=[w('<option value="">كل الحالات</option><option value="draft">مسودة</option><option value="pending_signature">بانتظار التوقيع</option><option value="active">نشط</option><option value="completed">مكتمل</option>',5)])],544),[[C,o.status]]),p(d,{to:"/contracts/create",class:"btn btn-primary"},{default:m(()=>[...e[2]||(e[2]=[_("إنشاء عقد",-1)])]),_:1})]),t("div",S,[t("div",j,[t("table",z,[e[4]||(e[4]=t("thead",null,[t("tr",null,[t("th",null,"رقم العقد"),t("th",null,"العنوان"),t("th",null,"المشروع"),t("th",null,"القيمة"),t("th",null,"الحالة"),t("th",null,"إجراءات")])],-1)),t("tbody",null,[(r(!0),l(N,null,V(i.value,a=>{var c;return r(),l("tr",{key:a.id},[t("td",D,n(a.contract_number),1),t("td",null,n(a.title),1),t("td",null,n((c=a.project)==null?void 0:c.name),1),t("td",null,n(g(a.total_value)),1),t("td",null,[t("span",{class:E([f(a.status),"badge"])},n(v(a.status)),3)]),t("td",null,[p(d,{to:`/contracts/${a.id}`,class:"text-primary-600"},{default:m(()=>[...e[3]||(e[3]=[_("عرض",-1)])]),_:1},8,["to"])])])}),128))])])])])])}}};export{q as default};
