import{a as w,r as k,n as C,c as l,b as t,i as c,e as y,v as V,y as N,z as j,k as p,l as D,d as M,F as T,p as F,q as Y,o as r,s as m,t as o,x as B}from"./app-Cs6lHxPq.js";import{d as E}from"./dayjs.min-CxMP4GVf.js";const L={class:"space-y-6"},S={class:"flex items-center justify-between"},z={class:"flex items-center gap-4"},G={class:"card"},I={class:"table-container"},Q={class:"table"},U={class:"font-medium"},$={class:"flex items-center gap-2"},P={key:0,class:"text-center py-12 text-gray-500"},K={__name:"QuotationsList",setup(A){const i=w([]),n=k({search:"",status:""});let v;const g=()=>{clearTimeout(v),v=setTimeout(d,300)},d=async()=>{const{data:a}=await Y.get("/quotations",{params:n});i.value=a.data},b=a=>E(a).format("YYYY/MM/DD"),_=a=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(a),x=a=>({draft:"مسودة",sent:"مرسل",viewed:"تم العرض",accepted:"مقبول",rejected:"مرفوض",expired:"منتهي"})[a]||a,h=a=>({draft:"badge-gray",sent:"badge-info",viewed:"badge-warning",accepted:"badge-success",rejected:"badge-danger"})[a]||"badge-gray";return C(d),(a,e)=>{const u=D("router-link");return r(),l("div",L,[t("div",S,[t("div",z,[y(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.search=s),type:"text",placeholder:"بحث...",class:"form-input w-64",onInput:g},null,544),[[V,n.search]]),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.status=s),class:"form-input w-40",onChange:d},[...e[2]||(e[2]=[j('<option value="">كل الحالات</option><option value="draft">مسودة</option><option value="sent">مرسل</option><option value="viewed">تم العرض</option><option value="accepted">مقبول</option><option value="rejected">مرفوض</option>',6)])],544),[[N,n.status]])]),c(u,{to:"/quotations/create",class:"btn btn-primary"},{default:p(()=>[...e[3]||(e[3]=[m("إنشاء عرض سعر",-1)])]),_:1})]),t("div",G,[t("div",I,[t("table",Q,[e[6]||(e[6]=t("thead",null,[t("tr",null,[t("th",null,"رقم العرض"),t("th",null,"العنوان"),t("th",null,"العميل"),t("th",null,"الإجمالي"),t("th",null,"الحالة"),t("th",null,"صالح حتى"),t("th",null,"إجراءات")])],-1)),t("tbody",null,[(r(!0),l(T,null,F(i.value,s=>{var f;return r(),l("tr",{key:s.id},[t("td",U,o(s.quotation_number),1),t("td",null,o(s.title),1),t("td",null,o((f=s.lead)==null?void 0:f.name),1),t("td",null,o(_(s.total)),1),t("td",null,[t("span",{class:B([h(s.status),"badge"])},o(x(s.status)),3)]),t("td",null,o(b(s.valid_until)),1),t("td",null,[t("div",$,[c(u,{to:`/quotations/${s.id}`,class:"text-primary-600 hover:text-primary-800"},{default:p(()=>[...e[4]||(e[4]=[m("عرض",-1)])]),_:1},8,["to"]),c(u,{to:`/quotations/${s.id}/edit`,class:"text-gray-600 hover:text-gray-800"},{default:p(()=>[...e[5]||(e[5]=[m("تعديل",-1)])]),_:1},8,["to"])])])])}),128))])])]),i.value.length===0?(r(),l("div",P,"لا توجد عروض أسعار")):M("",!0)])])}}};export{K as default};
