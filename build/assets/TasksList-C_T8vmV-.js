import{a as w,r as C,h as j,n as V,c as i,b as e,d as p,i as k,e as u,y as g,z as D,k as N,l as L,F as M,p as Y,q as B,o as r,s as S,t as a,x as m}from"./app-PrQ92K9m.js";import{d as T}from"./dayjs.min-CxMP4GVf.js";const $={class:"space-y-6"},q={class:"flex items-center justify-between"},z={class:"flex items-center gap-4"},F={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},U=["onClick"],E={class:"card-body"},R={class:"flex items-start justify-between mb-3"},A={class:"font-medium text-gray-900"},G={class:"text-sm text-gray-500"},H={class:"flex items-center justify-between text-sm"},I={class:"text-gray-500"},J={key:0,class:"mt-3 pt-3 border-t text-sm text-gray-500"},K={key:0,class:"text-center py-12 text-gray-500"},X={__name:"TasksList",setup(O){const _=j(),d=w([]),n=C({status:"",priority:"",project_id:_.query.project_id||""}),l=async()=>{const{data:s}=await B.get("/tasks",{params:n});d.value=s.data},y=s=>T(s).format("YYYY/MM/DD"),v=s=>({pending:"قيد الانتظار",in_progress:"جاري",completed:"مكتمل",cancelled:"ملغي"})[s]||s,b=s=>({pending:"badge-gray",in_progress:"badge-info",completed:"badge-success",cancelled:"badge-danger"})[s]||"badge-gray",f=s=>({urgent:"عاجل",high:"مرتفع",medium:"متوسط",low:"منخفض"})[s]||s,h=s=>({urgent:"badge-danger",high:"badge-warning",medium:"badge-info",low:"badge-gray"})[s]||"badge-gray";return V(l),(s,o)=>{const x=L("router-link");return r(),i("div",$,[e("div",q,[e("div",z,[u(e("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>n.status=t),class:"form-input w-40",onChange:l},[...o[2]||(o[2]=[e("option",{value:""},"كل الحالات",-1),e("option",{value:"pending"},"قيد الانتظار",-1),e("option",{value:"in_progress"},"جاري",-1),e("option",{value:"completed"},"مكتمل",-1)])],544),[[g,n.status]]),u(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>n.priority=t),class:"form-input w-40",onChange:l},[...o[3]||(o[3]=[D('<option value="">كل الأولويات</option><option value="urgent">عاجل</option><option value="high">مرتفع</option><option value="medium">متوسط</option><option value="low">منخفض</option>',5)])],544),[[g,n.priority]])]),k(x,{to:"/tasks/create",class:"btn btn-primary"},{default:N(()=>[...o[4]||(o[4]=[S("إضافة مهمة",-1)])]),_:1})]),e("div",F,[(r(!0),i(M,null,Y(d.value,t=>{var c;return r(),i("div",{key:t.id,class:"card hover:shadow-md transition-shadow cursor-pointer",onClick:P=>s.$router.push(`/tasks/${t.id}`)},[e("div",E,[e("div",R,[e("div",null,[e("h3",A,a(t.title),1),e("p",G,a((c=t.project)==null?void 0:c.name),1)]),e("span",{class:m([h(t.priority),"badge"])},a(f(t.priority)),3)]),e("div",H,[e("span",{class:m([b(t.status),"badge"])},a(v(t.status)),3),e("span",I,a(t.due_date?y(t.due_date):"-"),1)]),t.assignee?(r(),i("div",J,a(t.assignee.name),1)):p("",!0)])],8,U)}),128))]),d.value.length===0?(r(),i("div",K,"لا توجد مهام")):p("",!0)])}}};export{X as default};
