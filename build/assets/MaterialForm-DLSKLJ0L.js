import{a as m,r as p,c as b,b as s,w as f,e as n,v as o,i as v,t as y,k as c,l as k,f as x,o as V,s as g,q as w}from"./app-PrQ92K9m.js";const U={class:"max-w-2xl"},q={class:"card"},B={class:"grid grid-cols-2 gap-6"},M={class:"flex gap-4"},N=["disabled"],D={__name:"MaterialForm",setup(S){const u=x(),i=m(!1),t=p({code:"",name:"",unit:"",unit_price:0,current_stock:0,minimum_stock:0,description:""}),d=async()=>{var r,l;i.value=!0;try{await w.post("/materials",t),u.push("/inventory")}catch(a){alert(((l=(r=a.response)==null?void 0:r.data)==null?void 0:l.message)||"حدث خطأ")}finally{i.value=!1}};return(r,l)=>{const a=k("router-link");return V(),b("div",U,[s("div",q,[l[15]||(l[15]=s("div",{class:"card-header"},[s("h3",{class:"font-semibold"},"إضافة خامة جديدة")],-1)),s("form",{onSubmit:f(d,["prevent"]),class:"card-body space-y-6"},[s("div",B,[s("div",null,[l[7]||(l[7]=s("label",{class:"form-label"},"الكود *",-1)),n(s("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>t.code=e),class:"form-input",required:""},null,512),[[o,t.code]])]),s("div",null,[l[8]||(l[8]=s("label",{class:"form-label"},"الاسم *",-1)),n(s("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>t.name=e),class:"form-input",required:""},null,512),[[o,t.name]])]),s("div",null,[l[9]||(l[9]=s("label",{class:"form-label"},"الوحدة *",-1)),n(s("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>t.unit=e),class:"form-input",required:""},null,512),[[o,t.unit]])]),s("div",null,[l[10]||(l[10]=s("label",{class:"form-label"},"سعر الوحدة *",-1)),n(s("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>t.unit_price=e),type:"number",class:"form-input",min:"0",step:"0.01",required:""},null,512),[[o,t.unit_price]])]),s("div",null,[l[11]||(l[11]=s("label",{class:"form-label"},"المخزون الحالي",-1)),n(s("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>t.current_stock=e),type:"number",class:"form-input",min:"0"},null,512),[[o,t.current_stock]])]),s("div",null,[l[12]||(l[12]=s("label",{class:"form-label"},"الحد الأدنى",-1)),n(s("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>t.minimum_stock=e),type:"number",class:"form-input",min:"0"},null,512),[[o,t.minimum_stock]])])]),s("div",null,[l[13]||(l[13]=s("label",{class:"form-label"},"الوصف",-1)),n(s("textarea",{"onUpdate:modelValue":l[6]||(l[6]=e=>t.description=e),class:"form-input",rows:"2"},null,512),[[o,t.description]])]),s("div",M,[s("button",{type:"submit",disabled:i.value,class:"btn btn-primary"},y(i.value?"جاري الحفظ...":"حفظ"),9,N),v(a,{to:"/inventory",class:"btn btn-secondary"},{default:c(()=>[...l[14]||(l[14]=[g("إلغاء",-1)])]),_:1})])],32)])])}}};export{D as default};
