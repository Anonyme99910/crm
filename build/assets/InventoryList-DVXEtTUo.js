import{a as y,r as b,n as f,c as n,b as t,i as k,e as _,v,B as x,k as g,l as w,d as C,F as V,p as N,q as T,o as a,s as B,t as o}from"./app-PrQ92K9m.js";const F={class:"space-y-6"},M={class:"flex items-center justify-between"},E={class:"flex items-center gap-4"},I={class:"flex items-center gap-2"},D={class:"card"},G={class:"table-container"},L={class:"table"},U={class:"font-mono text-sm"},j={class:"font-medium"},q={key:0,class:"badge badge-danger"},P={key:1,class:"badge badge-success"},S={key:0,class:"text-center py-12 text-gray-500"},H={__name:"InventoryList",setup(z){const c=y([]),l=b({search:"",low_stock:!1});let i;const m=()=>{clearTimeout(i),i=setTimeout(d,300)},d=async()=>{const{data:r}=await T.get("/materials",{params:l});c.value=r.data},p=r=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(r);return f(d),(r,s)=>{const h=w("router-link");return a(),n("div",F,[t("div",M,[t("div",E,[_(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>l.search=e),type:"text",placeholder:"بحث...",class:"form-input w-64",onInput:m},null,544),[[v,l.search]]),t("label",I,[_(t("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=e=>l.low_stock=e),onChange:d,class:"rounded"},null,544),[[x,l.low_stock]]),s[2]||(s[2]=t("span",{class:"text-sm"},"نقص المخزون فقط",-1))])]),k(h,{to:"/inventory/create",class:"btn btn-primary"},{default:g(()=>[...s[3]||(s[3]=[B("إضافة خامة",-1)])]),_:1})]),t("div",D,[t("div",G,[t("table",L,[s[4]||(s[4]=t("thead",null,[t("tr",null,[t("th",null,"الكود"),t("th",null,"الاسم"),t("th",null,"التصنيف"),t("th",null,"الوحدة"),t("th",null,"السعر"),t("th",null,"المخزون"),t("th",null,"الحالة")])],-1)),t("tbody",null,[(a(!0),n(V,null,N(c.value,e=>{var u;return a(),n("tr",{key:e.id},[t("td",U,o(e.code),1),t("td",j,o(e.name),1),t("td",null,o(((u=e.category)==null?void 0:u.name)||"-"),1),t("td",null,o(e.unit),1),t("td",null,o(p(e.unit_price)),1),t("td",null,o(e.current_stock),1),t("td",null,[e.current_stock<=e.minimum_stock?(a(),n("span",q,"نقص")):(a(),n("span",P,"متوفر"))])])}),128))])])]),c.value.length===0?(a(),n("div",S,"لا توجد خامات")):C("",!0)])])}}};export{H as default};
